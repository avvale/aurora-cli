
type CommonAttachment
{
    id: ID!
    familyId: ID
    family: CommonAttachmentFamily
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    isCropable: GraphQLBoolean!
    libraryId: ID
    library: CommonAttachmentLibrary
    libraryFilename: GraphQLString
    meta: JSON
    createdAt: GraphQLTimestamp
    updatedAt: GraphQLTimestamp
    deletedAt: GraphQLTimestamp
}

input CommonCreateAttachmentInput
{
    id: ID!
    familyId: ID
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    isCropable: GraphQLBoolean!
    libraryId: ID
    libraryFilename: GraphQLString
    meta: JSON
}

input CommonUpdateAttachmentByIdInput
{
    id: ID!
    familyId: ID
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString
    mimetype: GraphQLString
    extension: GraphQLString
    relativePathSegments: JSON
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt
    url: GraphQLString
    isCropable: GraphQLBoolean
    libraryId: ID
    libraryFilename: GraphQLString
    meta: JSON
}

input CommonUpdateAttachmentsInput
{
    id: ID
    familyId: ID
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString
    mimetype: GraphQLString
    extension: GraphQLString
    relativePathSegments: JSON
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt
    url: GraphQLString
    isCropable: GraphQLBoolean
    libraryId: ID
    libraryFilename: GraphQLString
    meta: JSON
}

# ---- customizations ----
type CommonCropAndCreateAttachment
{
    attachment: CommonCropAttachment!
    crop: CommonCropProperties!
}

type CommonCropAttachment
{
    id: ID!
    familyId: ID
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    isCropable: GraphQLBoolean!
    isUploaded: GraphQLBoolean!
    isChanged: GraphQLBoolean!
    libraryId: ID
    libraryFilename: GraphQLString
    meta: JSON
    library: CommonCropAttachmentLibrary
}

type CommonCropAttachmentLibrary
{
    id: ID!
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    meta: JSON
}

type CommonCropProperties
{
    x: GraphQLInt!
    y: GraphQLInt!
    width: GraphQLInt!
    height: GraphQLInt!
    rotate: GraphQLInt!
    scaleX: GraphQLInt!
    scaleY: GraphQLInt!
}

input CommonCropAndCreateAttachmentInput
{
    attachment: CommonCropAttachmentInput!
    crop: CommonCropPropertiesInput!
}

input CommonCropAttachmentInput
{
    id: ID!
    familyId: ID
    sort: GraphQLInt
    alt: GraphQLString
    title: GraphQLString
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    isCropable: GraphQLBoolean!
    isUploaded: GraphQLBoolean!
    isChanged: GraphQLBoolean!
    libraryId: ID
    libraryFilename: GraphQLString
    meta: JSON
    library: CommonCropAttachmentLibraryInput
}

input CommonCropAttachmentLibraryInput
{
    id: ID!
    filename: GraphQLString!
    mimetype: GraphQLString!
    extension: GraphQLString!
    relativePathSegments: JSON!
    width: GraphQLInt
    height: GraphQLInt
    size: GraphQLInt!
    url: GraphQLString!
    meta: JSON
}

input CommonCropPropertiesInput
{
    x: GraphQLInt!
    y: GraphQLInt!
    width: GraphQLInt!
    height: GraphQLInt!
    rotate: GraphQLInt!
    scaleX: GraphQLInt!
    scaleY: GraphQLInt!
}

type Query
{
    commonFindAttachment(
        query: QueryStatement
        constraint: QueryStatement
    ): CommonAttachment

    commonFindAttachmentById(
        id: ID
        constraint: QueryStatement
    ): CommonAttachment

    commonGetAttachments(
        query: QueryStatement
        constraint: QueryStatement
    ): [CommonAttachment]!

    commonPaginateAttachments(
        query: QueryStatement
        constraint: QueryStatement
    ): Pagination!

}

type Mutation
{
    commonCreateAttachment(
        payload: CommonCreateAttachmentInput!
    ): CommonAttachment

    commonCreateAttachments(
        payload: [CommonCreateAttachmentInput]!
    ): Boolean!

    commonUpdateAttachmentById(
        payload: CommonUpdateAttachmentByIdInput!
        constraint: QueryStatement
    ): CommonAttachment

    commonUpdateAttachments(
        payload: CommonUpdateAttachmentsInput!
        query: QueryStatement
        constraint: QueryStatement
    ): [CommonAttachment]!

    commonUpsertAttachment(
        payload: CommonUpdateAttachmentByIdInput!
    ): CommonAttachment

    commonDeleteAttachmentById(
        id: ID!
        constraint: QueryStatement
    ): CommonAttachment

    commonDeleteAttachments(
        query: QueryStatement
        constraint: QueryStatement
    ): [CommonAttachment]!


    # additionalApis
    commonUploadAttachments(
        files: [CoreFileUploaded!]!
    ): [CoreFile!]!

    commonCropAndCreateAttachment(
        payload: CommonCropAndCreateAttachmentInput!
    ): CommonCropAndCreateAttachment!

}
